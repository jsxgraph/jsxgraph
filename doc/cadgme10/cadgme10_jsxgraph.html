<!DOCTYPE html>
<!-- 
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)
                 Brad Neuberg
                 Alfred Wassermann
-->
<!--<html manifest="src/slides_manifest.php">-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <title>JSXGraph - Dynamic Mathematics running on (nearly) every device</title>
    
    <!--<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>-->
    <link rel='stylesheet' type='text/css' href='distrib/jsxgraph.css' />    
    <script type="text/javascript" src="distrib/jsxgraphcore.js"></script>
    <script type="text/javascript" src="distrib/AM3.js"></script>
    <script type="text/javascript" src="distrib/prototype.js"></script>
    <!-- <link type="text/css" href="./src/scrollbar.css" rel="stylesheet"> -->
    
    <style>
      .notes { display: none; }
      .stroke {
        -webkit-text-stroke-color: red;
        -webkit-text-stroke-width: 1px;
        -moz-text-stroke-color: red;
        -moz-text-stroke-width: 1px;
      }
      
      body {
        font: 14px "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
        background: #778;
        padding: 0;
        margin: 0;
        overflow: hidden;
      }
      
      div.presentation {
        position: absolute;
        width: 100%;
        display: table-cell;
        vertical-align: middle;
        height: 100%;
        background: inherit;
      }
      
      div.slides {
        width: 100%;
        height: 100%;
        overflow: hidden;
        left: 0;
        top: 0;
        position: absolute;
        display: block;  
        -webkit-transition: -webkit-transform 1s ease-in-out; 
        -moz-transition: -moz-transform 1s ease-in-out;
        -o-transition: -o-transform 1s ease-in-out;
      }

      div.slide {
        display: block; /* none */
        position: absolute;
        overflow: hidden;
        width: 900px;
        height: 700px;
        left: 50%;
        top: 50%;
        margin-top: -350px;
        background: -webkit-gradient(linear, left bottom, left top, from(#bbd), to(#fff));
        -webkit-transition: margin 0.25s ease-in-out; 
        background-color: #eee;
        background: -moz-linear-gradient(bottom, #bbd, #fff);
        -moz-transition: margin 0.25s ease-in-out;
        -o-transition: margin 0.25s ease-in-out;
      }
      
      div.slide:nth-child(even) {
        border-top-left-radius: 20px;
        -moz-border-radius-topleft: 20px;
        -webkit-border-top-left-radius: 20px;
        border-bottom-right-radius: 20px;
        -moz-border-radius-bottomright: 20px;
        -webkit-border-bottom-right-radius: 20px;
      }
      
      div.slide:nth-child(odd) {
        border-top-right-radius: 20px;
        -moz-border-radius-topright: 20px;
        -webkit-border-top-right-radius: 20px;
        border-bottom-left-radius: 20px;
        -moz-border-radius-bottomleft: 20px;
        -webkit-border-bottom-left-radius: 20px;
      }

      div.slide p {
        font-size: 20px;
      }

      section.intro p {
        font-size: 35px;
      }

      button {
        font-size: 20px;
      }
      
      .summary {
       font-size: 30px;
      }

      .bullets {
       font-size: 40px;
      }
      
      .slide.far-past {
        display: block;
        margin-left: -2400px;
      }
      
      .slide.past {
        display: block;
        margin-left: -1400px;
      }
      
      .slide.current {
        display: block;
        margin-left: -450px;
      }
      
      .slide.future {
        display: block;
        margin-left: 500px;
      }
      
      .slide.far-future {
        display: block;
        margin-left: 1500px;
      }Rough Timeline of Web Technologies

      body.three-d div.presentation {
        /*background: -webkit-gradient(radial, 50% 50%, 10, 50% 50%, 1000, from(#333), to(#000));        */        
      }
      
      body.three-d div.slides {
        -webkit-transform: translateX(50px) scale(0.8) rotateY(10deg);        
        -moz-transform: translateX(50px) scale(0.8) rotateY(10deg);
        -o-transform: translateX(50px) scale(0.8) rotateY(10deg);
      }
      
      
      /* Content */
      
      @font-face { font-family: 'Junction'; src: url(src/Junction02.otf); }
      @font-face { font-family: 'LeagueGothic'; src: url(src/LeagueGothic.otf); }
      
      header {
        font-family: 'Junction';
        font-weight: normal;
        font-size: 50px;
        letter-spacing: -.05em;
        color: white;        
        color: black;
        text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;  
        position: absolute;
        left: 30px;
        top: 25px;
        margin: 0;
        padding: 0;
      }
      
      .intro h1 {
        color: black;
        padding: 0;
        margin: 0;
        letter-spacing: -2px;
        font-size: 96px;
      }
      
      .intro h2 {
        color: black;
        font-family: 'LeagueGothic';
        padding: 0;
        margin: 0;
        margin-top: -5px;
        font-size: 68px;
        letter-spacing: -1px;  
      }
      
      h1 {
        display: inline;
        font-size: 100%;
      	font-weight: normal;
      	padding: 0;
      	margin: 0;
      }
      
      h2 {
        font-family: 'Junction';
        color: black;
        font-size: 20px;
        margin-left: 20px;
        margin-top: 50px;
      }
      
      h2:first-child {
        margin-top: 0;
      }

      section {
        font-family: 'Junction';
        font-size: 50px;
        color: #3f3f3f;
        text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;         
        margin-left: 30px;
        margin-right: 30px;
        margin-top: 100px;
        display: block;
        overflow: hidden;
      }

      a {
        color: inherit;
        display: inline-block;
        text-decoration: none;
        line-height: 110%;
        border-bottom: 2px solid #3f3f3f;
      }

      #wmap a {
        line-height: 100%;
        border-bottom: none;
      }
      
      section.left {
        float: left;
        width: 390px;
      }
      
      section.small {
        font-size: 24px;
      }
      
      section.small ul {
        margin: 0 0 0 15px;
        padding: 0;
      }
      
      section.small li {
        padding-bottom: 0;
      }
      
      h2 {
        padding: 0;
        margin: 15px 0 5px 0;
/*        font-family: GG240;*/
      }
      
      section.center {
        line-height: 180%;
        text-align: center;
        display: table-cell;
        vertical-align: middle;
        height: 700px;
        width: 900px;
      }
      
      pre {
        text-align: left;
        font-size: 16px;
        font-family: Monaco, Courier;
        padding-bottom: 10px;
        
        padding: 10px 20px;
        background: rgba(255, 0, 0, 0.05);
        border-radius: 8px;
        border: 1px solid rgba(255, 0, 0, 0.2);
      }
      .two-column {
        -webkit-column-count: 2;
        -moz-column-count: 2;
      }
      
      pre select {
        font-size: 16px;
        font-family: Monaco, Courier;
        border: 1px solid #c61800;        
      }
        
      input {
        font-size: 16px;
        font-family: Helvetica;
        padding: 3px;
      }
      input[type="range"] {
        width: 100%;
      }
      
      button {
        font-family: Verdana;
      }
      
      button.large {
        font-size: 32px;        
      }
        
      pre b {
        font-weight: normal;
        color: #c61800;
        text-shadow: #c61800 0 0 1px; 
        /*letter-spacing: -1px;*/
      }
      pre em {
        font-weight: normal;
        font-style: normal;
        color: #18a600;
        text-shadow: #18a600 0 0 1px; 
      }
      pre input[type="range"] {
        height: 6px;
        cursor: pointer;
        width: auto;
      }      
      example {
        font-size: 16px;
        display: block;
        padding: 10px 20px;
        color: black;
        background: rgba(255, 255, 255, 0.4);
        border-radius: 8px;
        margin-bottom: 10px;
        border: 1px solid rgba(0, 0, 0, 0.2);
      }
      video {
        border-radius: 8px;
        border: 1px solid rgba(0, 0, 0, 0.2);        
      }
      
      .css,
      .js,
      .html,
      .key {
        font-family: 'Junction';
        color: black;
        display: inline-block;
        padding: 6px 10px 3px 10px;
        font-size: 25px;
        line-height: 30px;
        text-shadow: none;
        letter-spacing: 0;
        bottom: 10px;
        position: relative;
        border-radius: 10px;
        -moz-border-radius: 10px;
        -webkit-border-radius: 10px;
        background: white;
        box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px; 
        -webkit-box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px; 
        -moz-box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px; 
      }
      
      .key { font-family: Arial; }
      
      :not(header) > .css,
      :not(header) > .js,
      :not(header) > .html,
      :not(header) > .key {
        margin: 0 5px;
        bottom: 4px;
      }
      
      .css {
        background: -webkit-gradient(linear, left top, left bottom, from(#ff4), to(#ffa));
        background-color: #ff4;
        background: -moz-linear-gradient(left top, #ff4, #ffa);        
      }
      .js {
        background: -webkit-gradient(linear, left top, left bottom, from(#4f4), to(#afa));        
        background-color: #4f4;
        background: -moz-linear-gradient(left top, #4f4, #afa);
      }
      .html {
        background: -webkit-gradient(linear, left top, left bottom, from(#e88), to(#fee));
        background-color: #e88;
        background: -moz-linear-gradient(left top, #e88, #fee);
      }
      
      li {
        list-style: none;
        padding: 10px 0;
      }
      
      .summary li::before, .bullets li::before {
        content: 'Â· ';
      }
      
      info {
        display: block;
        font-size: 50%;
        text-align: center;
      }
      
    </style>
  </head><body>
    <div class="presentation">
      <div class="slides">
        <div class="slide">
          <section class="center intro">
            <p>This presentation is an HTML5 website</p>
            <p>Press <span class="key">&rarr;</span> key to advance.</p>
            <p>Zoom in/out: <span class="key">Ctrl or Command</span> + <span class="key">+/-</span></p>
            <p style="font-size: 25px">Having issues seeing the presentation? Read the <a href="disclaimer.html">disclaimer</a></p>
          </section>
        </div>
        
        <div class="slide">
          <section class="center intro">
            <hgroup>
              <h1>
                JSXGraph
              </h1>
              <h2>
                Dynamic Mathematics running on (nearly) every device
              </h2>
            </hgroup>
            <p style="font-size: 32px">Bianca Valentin, Alfred Wassermann<br/>University of Bayreuth, Germany</p>
          </section>
        </div>      

        <div class="slide">
          <header>JSXGraph in action</header>
          <section class="center">
                <form>
                    <input type="button" value="start" onclick="start_s1()">
                </form>
                <div  id="jxgbox" class="jxgbox" style="margin-left:90px; width:700px; height:500px; background-color:none"></div>
                <script type="text/JavaScript">
                start_s1 = function() {
        board = JXG.JSXGraph.initBoard('jxgbox', {boundingbox:[-1.5,3,8,-2], keepaspectratio:true, axis:true});
        board.suspendUpdate();
        var N = board.create('slider', [[0,1.5],[3,1.5],[1,3,40]], {name:'n',snapWidth:1});
        var circ = board.create('circle',[[4,-1.5],1],{strokeWidth:1, strokecolor:'black', strokeWidth:2, fillColor:'#0055ff13'});
 
        var c = board.create('curve', [[0],[0]],{strokecolor:'red', strokeWidth:2}); 
        c.updateDataArray = function() {
                var r = 1, n = Math.floor(N.Value()), 
                    x = [0], y = [0],
                    phi = Math.PI/n,
                    h = r*Math.cos(phi),
                    s = r*Math.sin(phi),
                    i, j, 
                    px = 0, py = 0, sgn = 1, 
                    d = 16, 
                    dt = phi/d, 
                    pt;
 
                for (i=0;i<n;i++) {
                    for (j=-d;j<=d;j++) {
                        pt = dt*j;
                        x.push(px+r*Math.sin(pt));
                        y.push(sgn*r*Math.cos(pt)-(sgn-1)*h*0.5);
                    }
                    px += s;
                    sgn *= (-1);
                }
                x.push((n-1)*s);
                y.push(h+(sgn-1)*h*0.5);
                this.dataX = x;
                this.dataY = y;
            }
 
        var c2 = board.create('curve', [[0],[0]],{strokecolor:'red', strokeWidth:1}); 
        c2.updateDataArray = function() {
                var r = 1, n = Math.floor(N.Value()), 
                    px = circ.midpoint.X(), py = circ.midpoint.Y(),  
                    x = [px], y = [py],
                    phi = Math.PI/n,
                    s = r*Math.sin(phi),
                    i, j, 
                    d = 16, 
                    dt = phi/d, 
                    pt = Math.PI*0.5+phi;
 
                for (i=0;i<n;i++) {
                    for (j=-d;j<=d;j++) {
                        x.push(px+r*Math.cos(pt));
                        y.push(py+r*Math.sin(pt));
                        pt -= dt;
                    }
                    x.push(px);
                    y.push(py);
                    pt += dt;
                }
                this.dataX = x;
                this.dataY = y;
            }
            board.unsuspendUpdate();
            
                 };
            </script>
          </section>
        </div>

        <div class="slide">
          <header>What is it?</header>
          <section class="summary">
            <ul class="summary">
              <li> JavaScript library, requires no plug-ins
              </li><li> Dynamic Mathematics
                            <ul> 
                            <li> interactive geometry
                            </li><li> interactive curve plotting
                            </li><li> turtle graphics
                            </li><li> charts
                            </li>
                            </ul>
              </li><li> Size: 80 kByte
              </li><li> <em>Free to use.</em> License: LGPL.
            </li></ul>
          </section>
        </div>
        
        <div class="slide">
          <header>JavaScript</header>
          <section class="summary">
            <ul class="summary">
              <li> JSXGraph is implemented in JavaScript
              </li><li> No Java 
              </li><li> No Flash 
            </li></ul>
          </section>
        </div>
        
        <div class="slide">
          <header>Supported hardware</header>
          <section class="summary">
            <ul class="summary">
              <li>PC (Windows, Linux, Mac)
              </li><li>Mobile phones 
              </li><li>Sony Ericsson K800i (running Opera mini):
                <img style="margin-left:25%" width="300" src="http://lh4.ggpht.com/_r8duJtBJTHs/S2Xt6eqBuEI/AAAAAAAAAeo/ksfebL9Oa8A/s800/IMG_0714.JPG" />
            </li></ul>
          </section>
        </div>

        <div class="slide">
          <header>Supported hardware</header>
          <section class="summary">
            <ul class="summary">
              </li><li>iPhone<br />
                <object style="margin-left:25%"  width="425" height="344"><param name="movie" value="http://www.youtube.com/v/athhV7oBHBE&hl=de_DE&fs=1&rel=0&color1=0x3a3a3a&color2=0x999999&start=42"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/athhV7oBHBE&hl=de_DE&fs=1&rel=0&color1=0x3a3a3a&color2=0x999999&start=42" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="344"></embed></object>
                </li><li>multi touch tablets (e.g. iPad), see talk by Carsten Miller, Thursday, 9:20.
            </li></ul>
          </section>
        </div>

        <div class="slide">
          <header>Supported browsers</header>
          <section class="summary">
            <ul class="summary">
              <li>Firefox
              </li><li>Chrome
              </li><li>Safari
              </li><li>Internet Explorer (6-8)
              </li><li>Opera
            </li></ul>
          </section>
        </div>

        <div class="slide">
          <header>Who should use it?</header>
          <section class="summary">
            <ul class="summary">
              <li> DGS implementors: HTML5 compatibility
              </li><li> Publishers: ebooks
              </li><li> Teachers, students: JessieScript
            </li></ul>
          </section>
        </div>
        
        <div class="slide">
          <header>File format imports</header>
          <section class="summary">
            <ul class="summary">
              <li> <a href="jsx_gxt.html" target="_blank">GEONE<sub>X</sub>T</a>
              </li><li> <a href="http://i2geo.net/xwiki/bin/view/I2GFormat/" target="_blank">Intergeo file format i2geo</a>
              </li><li> <a href="jsx_ggb.html" target="_blank">GeoGebra</a>
              </li><li> <a href="jsx_cdy.html" target="_blank">Cinderella (alpha quality)</a>
              </li><li> <a href="http://jsxgraph.uni-bayreuth.de/wiki/index.php/German_election_2009" target="_blank">Arcview</a> (server based)
            </li></ul>
          </section>
        </div>
        
        <div class="slide">
          <header>Plug-ins for</header>
          <section class="summary">
            <ul class="summary">
              <li> moodle
              </li><li> wordpress
              </li><li> mediawiki
              <pre>
&lt;jsxgraph width="500" height="500"&gt;
var brd = JXG.JSXGraph.initBoard('jxgbox',{boundingbox:[-2,2,2,-2]});
var p = brd.create('point',[1.5,1.5],{face:'o', size:8});
brd.create('segment',[[0,0],p],{dash:3});
&lt;/jsxgraph&gt;
              </pre>
              </li><li> drupal
            </li></ul>
          </section>
        </div>

        <div class="slide">
          <header>Some new features since CADGME'09</header>
          <section class="summary">
            <ul class="summary">
              <li> Bezier curves
              </li><li> Conic sections
              </li><li> L<sub>A</sub>T<sub>E</sub>X syntax for labels and texts
                    <ul>
                        <li> ASCIIMathML (falls back to Google chart API)
                        </li><li> MathJax (http://www.mathjax.org)
                        </li>
                    </ul>
              </li><li> Animations
              </li><li> Flexible layer system
            </li></ul>
          </section>
        </div>
        
        <div class="slide">
          <header>Server connection via AJAX</header>
          <section class="center">
                <form>
                    <input type="button" value="start" onclick="startAjax()">
                    <input type="button" value="stop" onclick="stopAjax()">
                </form>
                <div  id="jxgbox1" class="jxgbox" style="margin-left:90px; width:700px; height:500px; background-color:black"></div>
                <script type="text/JavaScript">
                (function() {
                    var brd, g, w = 30,
                    x = [], y = [], turt, i;
                    brd = JXG.JSXGraph.initBoard('jxgbox1', {axis:true, boundingbox:[0,20,w,-2]});
                    brd.suspendUpdate();

                    // Draw the additional lines
                    turt = brd.create('turtle',[],{strokecolor:'#999999'}).hideTurtle().right(90);
                    for (i=5;i<=15;i+=5) { turt.penUp().moveTo([0,i]).penDown().forward(w); }
 
                    g = brd.create('curve', [x,y],{strokeWidth:3, strokeColor:'yellow'}); 
 
                    fetchData = function() {   // global!
                        new Ajax.Request('fakesensor.php', {
                                onComplete: function(transport) {
                                var t, a;
                                if (200 == transport.status) {
                                    t = transport.responseText;
                                    a = parseFloat(t);
                                    if (x.length<w) {          
                                        x.push(x.length); // add data to the x-coordinates, if the right border has not been reached, yet
                                    } else {
                                        y.splice(0,1);        // remove the oldest entry of the y-coordinates, to make the graph move.
                                    }
                                    y.push(a);
                                    brd.update();
                                };
                        }});
                    };
                    //setInterval(fetchData,1000);  // Start the periodical update                 
                    brd.unsuspendUpdate();
                })();
                startAjax = function() {
                    timeout = setInterval(fetchData,500);
                }
                stopAjax = function() {
                    clearInterval(timeout);
                }
            </script>
          </section>
        </div>


        <div class="slide">
          <header>Server connection via AJAX</header>
          <section class="summary">
          <p>
          <pre>
var brd, g, w = 30,
x = [], y = [];
brd = JXG.JSXGraph.initBoard('jxgbox1', {axis:true, boundingbox:[0,20,w,-2]});
g = brd.create('curve', [x,y],{strokeWidth:3, strokeColor:'yellow'}); 

fetchData = function() { 
    new Ajax.Request('/ajax/fakesensor.php', {
            onComplete: function(data) {
                var t, a;
                if (200 == data.status) {
                    t = data.responseText;
                    a = parseFloat(t);
                    if (x.length&lt;w) {          
                        x.push(x.length);
                    } else {
                        y.splice(0,1);
                    }
                    y.push(a);
                    brd.update();
                };
            }
        });
};
setInterval(fetchData,500);
          </pre>
          </p>
          </section>
        </div>
        

        <div class="slide">
          <header>Bezier curves</header>
          <section class="center">
                <form>
                    <input type="button" value="start" onclick="start_s2()">
                    <input type="button" value="Add segment" onClick="addSegment();">
                    <input type="button" value="Remove last segment" onClick="removeSegment();">
                </form>
                <div  id="jxgbox4" class="jxgbox" style="margin-left:90px; width:700px; height:500px; background-color:none"></div>
                <script type="text/JavaScript">
                start_s2 = function() {
                    brd = JXG.JSXGraph.initBoard('jxgbox4',{boundingbox:[-4,4,4,-4],keepaspectratio:true,axis:true});
                    p = []; // global
                    brd.suspendUpdate();

                    col = 'red'; 
                    p.push(brd.create('point',[2,1],{strokeColor:col,fillColor:col}));        // data point
                    col = 'blue'; 
                    p.push(brd.create('point',[0.75,2.5],{strokeColor:col,fillColor:col}));   // control point
                    p.push(brd.create('point',[-0.3,0.3],{strokeColor:col,fillColor:col}));   // control point
 
                    col = 'red'; 
                    p.push(brd.create('point',[-3,1],{strokeColor:col,fillColor:col}));       // data point
                    col = 'blue'; 
                    p.push(brd.create('point',[-0.75,-2.5],{strokeColor:col,fillColor:col})); // control point
                    p.push(brd.create('point',[1.5,-2.8],{strokeColor:col,fillColor:col}));   // control point
 
                    col = 'red'; 
                    p.push(brd.create('point',[2,-0.5],{strokeColor:col,fillColor:col}));     // data point
 
                    var c = brd.create('curve', JXG.Math.Numerics.bezier(p), 
                        {strokecolor:'blue', strokeOpacity:0.6, strokeWidth:5}); 
                    brd.unsuspendUpdate();
                };
 
var addSegment = function() {
   brd.suspendUpdate();
   col = 'blue'; 
   p.push(brd.create('point',[Math.random()*8-4,Math.random()*8-4],
           {strokeColor:col,fillColor:col})); // control point
   p.push(brd.create('point',[Math.random()*8-4,Math.random()*8-4],
           {strokeColor:col,fillColor:col}));   // control point
   col = 'red'; 
   p.push(brd.create('point',[Math.random()*8-4,Math.random()*8-4],
           {strokeColor:col,fillColor:col}));     // data point
   brd.unsuspendUpdate();
};
 
var removeSegment = function() {
   brd.suspendUpdate();
 
   if (p.length>4) {
       brd.removeObject(p[p.length-1]);
       brd.removeObject(p[p.length-2]);
       brd.removeObject(p[p.length-3]);
       p.splice(p.length-3,3);
   }
   brd.unsuspendUpdate();
};                 
            </script>
          </section>
        </div>

        <div class="slide">
          <header>JSXGraph + ASCIIMathML</header>
          <section class="center">
                <form>
                    <input type="button" value="start" onclick="start_s3()">
                </form>
                <div  id="jxgbox2" class="jxgbox" style="margin-left:90px; width:700px; height:500px; background-color:none"></div>
                <script type="text/JavaScript">
                start_s3 = function() {
                    var f = function(x){ return x*x-1.5*x-1;};
                    var brd = JXG.JSXGraph.initBoard('jxgbox2', {boundingbox:[-1.5,4,3.5,-2], keepaspectratio:true, axis:true});
                    brd.suspendUpdate();
                    var a = brd.create('point',[-1,f(-1)],{name:'(a,f(a))', fixed:true, fillcolor:'black', strokeColor:'black'});
                    var b = brd.create('point',[3, f(3)],{name:'(b,f(b))', fixed:true, fillcolor:'black', strokeColor:'black'});
                    brd.create('functiongraph',[f,-1,3],{name:'f', strokeColor:'black', dash:2});
                    var s = brd.create('segment',[a,b]);
                    var q = brd.create('glider',[0,1,s],{name:'glider'});
                    brd.create('text',[1,2.2,'`(f(b)-f(a))/(b-a)`']);
                    brd.unsuspendUpdate();
                 };
            </script>
          </section>
        </div>

        <div class="slide">
          <header>Animation</header>
          <section class="center">
                <form>
                    <input type="button" value="init" onclick="start_s7()">
                    <input type="button" value="start" onclick="startAnimation()">
                    <input type="button" value="stop" onclick="stopAnimation()">
                </form>
                <div  id="jxgbox5" class="jxgbox" style="margin-left:90px; width:500px; height:500px; background-color:none"></div>
                <script type="text/JavaScript">
                start_s7 = function() {
                    var brd = JXG.JSXGraph.initBoard('jxgbox5',{boundingbox:[-0.2,1.2,1.2,-0.5], keepaspectratio:true});
                    brd.suspendUpdate();
                    var p = [];
                    var len = 25;
                    var i;
                    for (i=0;i<len;i++) {
                        var strokey = '#'+Math.floor(Math.random()*16777215).toString(16);
                        if(strokey.length ==6) {strokey = strokey+'f';}
                        if(strokey.length ==5) {strokey = strokey+'ff';}    
                        var filly = '#'+Math.floor(Math.random()*16777215).toString(16);
                        if(filly.length ==6) {filly = filly+'f';}
                        if(filly.length ==5) {filly = filly+'ff';}  
                        p[i] = brd.createElement('point',[Math.random(),Math.random()],
                            {face:'o', size:10, strokeColor:strokey, fillColor:filly, fillOpacity:0.4, strokeOpacity:0.4, withLabel:false});
                    }
                    brd.unsuspendUpdate();
                    pAnimation = p;
                 };
                startAnimation = function() {
                    animGlobal = setInterval(function(){
                        var i, j;
                        for (i=0;i<pAnimation.length;i++) {
                            pAnimation[i].moveTo([Math.random(),Math.random()],1000);
                        }
                        i = 0;
                    },2000);
                }
                stopAnimation = function() {
                 clearInterval(animGlobal);
                }
            </script>
          </section>
        </div>

        <div class="slide">
          <header>Charts</header>
          <section class="center">
                <form>
                    <input type="button" value="start" onclick="start_s4()">
                </form>
                <div  id="jxgbox6" class="jxgbox" style="margin-left:90px; width:700px; height:500px; background-color:none"></div>
                <script type="text/JavaScript">
                start_s4 = function(){
    var dataArr = [30,16,14,10,10,8,6,6,4,4];
    var board = JXG.JSXGraph.initBoard('jxgbox6', {showNavigation:false, showCopyright:true, originX: 120, originY: 350, unitX: 50, unitY: 50});
    board.containerObj.style.backgroundColor = 'black';
    board.suspendUpdate();

    var a = board.createElement('chart', dataArr, 
        {chartStyle:'pie',  
         colorArray:['#0F408D','#6F1B75','#CA147A','#DA2228','#E8801B','#FCF302','#8DC922','#15993C','#87CCEE','#0092CE'],
         fillOpacity:1, center:[5,2], strokeColor:'black', highlightStrokeColor:'black', strokeWidth:4,
         labelArray:['Ruby','JavaScript', 'Shell','Python', 'PHP', 'C','Perl', 'C++', 'Java', 'Flash'],
         highlightColorArray:['#E46F6A','#F9DF82','#F7FA7B','#B0D990','#69BF8E','#BDDDE4','#92C2DF','#637CB0','#AB91BC','#EB8EBF'],
         highlightOnSector:true,
         gradient:'linear'}
    );

    for(var i=0; i< a[0].arcs.length; i++) {
        a[0].arcs[i].highlight = function() {
            this.board.renderer.highlight(this);
            if(this.label.content != null) {
                this.label.content.rendNode.style.fontSize = (2*this.board.fontSize) + 'px';
            }
            
            var dx = - this.midpoint.coords.usrCoords[1] + this.point2.coords.usrCoords[1];
            var dy = - this.midpoint.coords.usrCoords[2] + this.point2.coords.usrCoords[2];
            
            var ddx = 20/(this.board.stretchX);
            var ddy = 20/(this.board.stretchY);
            var z = Math.sqrt(dx*dx+dy*dy);
            
            this.point2.coords = new JXG.Coords(JXG.COORDS_BY_USER, 
                                                [this.midpoint.coords.usrCoords[1]+dx*(z+ddx)/z,
                                                 this.midpoint.coords.usrCoords[2]+dy*(z+ddy)/z],
                                                this.board);
            this.prepareUpdate().update().updateRenderer();
        };
          
        a[0].arcs[i].noHighlight = function() {
            this.board.renderer.noHighlight(this);
            if(this.label.content != null) {
                this.label.content.rendNode.style.fontSize = (this.board.fontSize) + 'px';
            }
            
            var dx = -this.midpoint.coords.usrCoords[1] + this.point2.coords.usrCoords[1];
            var dy = -this.midpoint.coords.usrCoords[2] + this.point2.coords.usrCoords[2];
            
            var ddx = 20/(this.board.stretchX);
            var ddy = 20/(this.board.stretchY);
            var z = Math.sqrt(dx*dx+dy*dy);
            
            this.point2.coords = new JXG.Coords(JXG.COORDS_BY_USER, 
                                                [this.midpoint.coords.usrCoords[1]+dx*(z-ddx)/z,
                                                 this.midpoint.coords.usrCoords[2]+dy*(z-ddy)/z],
                                                this.board);
            this.prepareUpdate().update().updateRenderer();
        }; 
    }
    board.unsuspendUpdate();                };
                </script>
         </section>
        </div>
        
        <div class="slide">
          <header>More Charts</header>
          <section class="summary">
            <ul class="summary">
              <li> <a href="http://jsxgraph.uni-bayreuth.de/wiki/index.php/Charts_from_HTML_tables" target="_blank">Charts from HTML tables</a>
            </li></ul>
          </section>
        </div>
        
        <div class="slide">
          <header>JessieScript</header>
          <section class="summary">
            <ul class="summary">
              <li> Having to program everything with JavaScript to display math with JSXGraph is a hurdle for 
              using it in classroom with students.
              </li>
              <li> Alternative: JessieScript</li>
              <li> JessieScript is a syntax similar to what is taught in schools and can be parsed by JSXGraph.
              </li><li>Examples: P(1,1); Q(-2,2); g=[PQ]; k(P,2); M=1/2(P,Q); ||(g,M);
              </li><li> Easy to learn and use
              </li><li> Fosters algorithmic thinking
            </li></ul>
          </section>
        </div>
        
        <div class="slide">
          <header>Constructing with JessieScript</header>
         <section class="center"><br>
                <form>
                    <input type="button" value="start" onclick="start_s6()"><br/>
         <textarea id='inputtext' cols='73' rows='4' style="border-style:dashed;border-color:#575757;">A(1,2);</textarea>
<input type="button" value="Send" onClick="runJessieScript(document.getElementById('inputtext').value)">
<input type="button" value="Clear board" onClick="clearAll()">
                </form>
                <div  id="jxgbox16" class="jxgbox" style="margin-left:90px; width:700px; height:400px; background-color:none"></div>
                <script type="text/JavaScript">
function runJessieScript(t) {
    board123.suspendUpdate();
    construction.push(board123.construct(t));
    board123.unsuspendUpdate();
}

function clearAll() {
    JXG.JSXGraph.freeBoard(board123);
    board123 = JXG.JSXGraph.initBoard('jxgbox16', {grid:true, boundingbox:[-6,11,11,-6], keepaspectratio:true, axis:true});
}

var construction = [];
start_s6 = function(){
        board123 = JXG.JSXGraph.initBoard('jxgbox16',{boundingbox:[-6,11,11,-6], keepaspectratio:true, axis:true});
}
                </script>
         </section>
        </div>
        
        <div class="slide">
          <header>Macros with JessieScript</header>
         <section class="center">
                <form>
                    <input type="button" value="start" onclick="start_s8()"><br/>
                </form>
<pre style='line-height: 100%; margin-left:90px; margin-right:100px;'>         
Square = Macro(D,E) { 
  k1=k(E,D) nolabel draft; x=[DE] nolabel draft; v=|_(x,E) draft; X=k1&v nolabel; 
  z=||(x,X_1) draft; z2=|_(x,D) draft; Y=z2&z nolabel; P[X_1,Y,D,E] nolabel; 
}
</pre>
                <div  id="jxgbox26" class="jxgbox" style="margin-left:90px;margin-right:30px; width:350px; height:300px; background-color:none; float:left"></div>
                <div  id="jxgbox27" class="jxgbox" style="margin-left:60px; width:350px; height:300px; background-color:none"></div>
                <script type="text/JavaScript">
start_s8 = function(){
        var cons1, cons2, cons4;
        JXG.Options.line.strokeColor = 'black';
        JXG.Options.point.face = 'v';
        JXG.Options.point.size = 6;
        JXG.Options.point.strokeColor = 'black';
        JXG.Options.point.fillColor = '#32CD32';
        JXG.Options.polygon.fillColor = '#87CEFA';
        JXG.Options.polygon.fillOpacity = 0.4;
        JXG.Options.polygon.highlightFillColor = '#87CEFA';
        JXG.Options.polygon.highlightFillOpacity = 0.4;
        var board = JXG.JSXGraph.initBoard('jxgbox26', {grid:true, originX: 90, originY: 190, unitX: 30, unitY: 30, axis:true});
        board.suspendUpdate();
        cons1 = board.construct("A(0.5,1.25);B(3,3.5);C(4.25|1);c=[AB];b=[AC];a=[BC]");
        board.addMacro("quadrat = Macro(D,E) { k1=k(E,D) nolabel invisible;x=[DE] nolabel invisible;v=|_(x,E) invisible;X=k1&v nolabel;z=||(x,X_1) invisible;z2=|_(x,D) invisible;Y=z2&z nolabel; P[X_1,Y,D,E] nolabel;}"); 
        cons2 = board.construct("q1=quadrat(A,B);q2=quadrat(B,C);q3=quadrat(C,A)");
        cons2.q1.X_2.visible('false');
        cons2.q2.X_2.visible('false');
        cons2.q3.X_2.visible('false');  
        
        var board2 = JXG.JSXGraph.initBoard('jxgbox27', {grid:true, originX: 150, originY: 250, unitX: 20, unitY: 20, axis:true});
        
        cons4 = board2.construct("A(0,0);B1(3,0) invisible;xAx=]A B1[ invisible;B(xAx,3,0);f:x^2;");
        board2.addMacro("quadrat = Macro(D,E) { k1=k(E,D) nolabel invisible;x=[DE] nolabel invisible;v=|_(x,E) invisible;X=k1&v nolabel;z=||(x,X_1) invisible;z2=|_(x,D) invisible;Y=z2&z nolabel; P[X_1,Y,D,E] nolabel;}"); 
        cons4 = board2.construct("q1=quadrat(A,B);g=[B q1.X_1[ nolabel;X=g&f;");
        cons4.q1.X_2.visible('false');         
        board.unsuspendUpdate();
        };
                </script>
         </section>
        </div>        
        
        <div class="slide">
          <header>XWC2</header>
          <section class="summary">
            <h2>JSXGraph/GEONE<sub>X</sub>T Worksheet Creator 2 </h2>
            Take content from
            <ul class="summary">
              <li> GEONE<sub>X</sub>T
              </li><li> i2geo
              </li><li> GeoGebra
              </li><li> Cinderella
              </li><li> JessieScript
            </li></ul>
            and create a webpage from it with simple navigation, questions, hints.
          </section>
        </div>
        
        <div class="slide">
          <header><h1>See it today?</h1></header>
          
          <section>
            <ul class="bullets">
              <li> <a href="http://jsxgraph.org/">http://jsxgraph.org</a>
              </li><li> <a href="http://jsxgraph.uni-bayreuth.de/xwc2/">http://jsxgraph.uni-bayreuth.de/xwc2</a>
              </li></ul>
          </section>
        </div>

    </div> <!-- presentation -->
    
    <script>
      (function() {
        // Since we don't have the fallback of attachEvent and
        // other IE only stuff we won't try to run JS for IE.
        // It will run though when using Google Chrome Frame
        if (document.all) { return; }

        var currentSlideNo;
        var notesOn = false;
        var slides = document.getElementsByClassName('slide');
        var touchStartX = 0;     
   
        // var slide_hash = window.location.hash.replace(/#/, '');
        // if (slide_hash) {
        //   for (var i = 0, len = slides.length; i < len; i++) {
        //     if (slides[i].id == slide_hash) {
        //       currentSlideNo = i;
        //       updateSlideClasses(); 
        //     }
        //   }
        // }
        
        var spaces = /\s+/, a1 = [""];

        var str2array = function(s) {
          if (typeof s == "string" || s instanceof String) {
            if (s.indexOf(" ") < 0) {
              a1[0] = s;
              return a1;
            } else {
              return s.split(spaces);
            }
          }
          return s;
        };

        var trim = function(str) {
          return str.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
        };

        var addClass = function(node, classStr) {
          classStr = str2array(classStr);
          var cls = " " + node.className + " ";
          for (var i = 0, len = classStr.length, c; i < len; ++i) {
            c = classStr[i];
            if (c && cls.indexOf(" " + c + " ") < 0) {
              cls += c + " ";
            }
          }
          node.className = trim(cls);
        };

        var removeClass = function(node, classStr) {
          var cls;
          if (classStr !== undefined) {
            classStr = str2array(classStr);
            cls = " " + node.className + " ";
            for (var i = 0, len = classStr.length; i < len; ++i) {
              cls = cls.replace(" " + classStr[i] + " ", " ");
            }
            cls = trim(cls);
          } else {
            cls = "";
          }
          if (node.className != cls) {
            node.className = cls;
          }
        };

        var getSlideEl = function(slideNo) {
          if (slideNo > 0) {
            return slides[slideNo - 1];
          } else {
            return null;
          }
        };

        var getSlideTitle = function(slideNo) {
          var el = getSlideEl(slideNo);
          
          if (el) {
            return el.getElementsByTagName('header')[0].innerHTML;
          } else {
            return null;
          }
        };
        
        var changeSlideElClass = function(slideNo, className) {
          var el = getSlideEl(slideNo);

          if (el) {
            removeClass(el, 'far-past past current future far-future');
            addClass(el, className);
          }
        };
        
        var updateSlideClasses = function() {
          window.location.hash = "slide" + currentSlideNo;
          changeSlideElClass(currentSlideNo - 2, 'far-past');
          changeSlideElClass(currentSlideNo - 1, 'past');
          changeSlideElClass(currentSlideNo, 'current');
          changeSlideElClass(currentSlideNo + 1, 'future');
          changeSlideElClass(currentSlideNo + 2, 'far-future');                
        };
        
        var nextSlide = function() {
          if (currentSlideNo < slides.length) {
            currentSlideNo++;
          }
          
          updateSlideClasses();
        };
        
        var prevSlide = function() {
          if (currentSlideNo > 1) {
            currentSlideNo--;
          }
          updateSlideClasses();
        };
        
        var showNotes = function() {
          var notes = document.querySelectorAll('.notes');
          for (var i = 0, len = notes.length; i < len; i++) {
            notes[i].style.display = (notesOn) ? 'none':'block';
          }
          notesOn = (notesOn) ? false:true;
        };

        var switch3D = function() {
          if (document.body.className.indexOf('three-d') == -1) {
            document.getElementsByClassName('presentation')[0].style.webkitPerspective = '1000px';
            document.body.className += ' three-d';
          } else {
            window.setTimeout("document.getElementsByClassName('presentation')[0].style.webkitPerspective = '0';", 2000);
            document.body.className = document.body.className.replace(/three-d/, '');
          }
        };

        var handleBodyKeyDown = function(event) {
          // console.log(event.keyCode);
          switch (event.keyCode) {
            case 37: // left arrow
              prevSlide();
              break;
            case 39: // right arrow
            // case 32: // space
              nextSlide();
              break;
            case 50: // 2
              showNotes();          
              break;
            case 51: // 3
              switch3D();          
              break;
          }
        };

        var addTouchListeners = function() {
          document.addEventListener('touchstart', function(e) {
            touchStartX = e.touches[0].pageX;
          }, false);
          document.addEventListener('touchend', function(e) {
            var pixelsMoved = touchStartX - e.changedTouches[0].pageX;
            var SWIPE_SIZE = 150;
            if (pixelsMoved > SWIPE_SIZE) {
              nextSlide();
            }
            else if (pixelsMoved < -SWIPE_SIZE) {
             prevSlide();
            }
          }, false);
        };

        // initialize

        (function() {
          if (window.location.hash != "") {
            currentSlideNo = Number(window.location.hash.replace('#slide', ''));
          } else {
            currentSlideNo = 1;
          }
   
          document.addEventListener('keydown', handleBodyKeyDown, false);
   
          var els = slides;
          for (var i = 0, el; el = els[i]; i++) {
            addClass(el, 'slide far-future');
          }
          updateSlideClasses(); 

          // add support for finger events (filter it by property detection?)
          addTouchListeners();
        })();
      })();
      
    </script>

    <!--[if IE]>
		<script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script> 
		<script>CFInstall.check({ mode: "overlay" });</script> 
    <![endif]--> 
</body>
</html>
